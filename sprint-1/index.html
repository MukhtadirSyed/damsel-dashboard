<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sprint 1 Review | Damsel in Distress</title>

  <!-- Tailwind CSS Play CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            parchment: {
              50: '#fdfbf7',
              100: '#f7f3e8',
              200: '#efe5cd',
              300: '#e5d0a6',
              400: '#d9b678',
              500: '#cc9952',
              600: '#b07b3f',
              700: '#8c5e35',
              800: '#724c31',
              900: '#5e3f2b',
            },
            safe: { light: '#dcfce7', DEFAULT: '#22c55e', dark: '#15803d', text: '#14532d' },
            wobbly: { light: '#fef9c3', DEFAULT: '#eab308', dark: '#a16207', text: '#713f12' },
            danger: { light: '#ffe4e6', DEFAULT: '#f43f5e', dark: '#be123c', text: '#881337' },
            royal: { light: '#e9d5ff', DEFAULT: '#9333ea', dark: '#6b21a8', text: '#581c87' },
            frog: { light: '#ecfccb', DEFAULT: '#84cc16', dark: '#4d7c0f', text: '#365314' },
            glass: { light: '#ecfeff', DEFAULT: '#06b6d4', dark: '#0e7490', text: '#164e63' },
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            display: ['Cinzel', 'Playfair Display', 'serif'],
            hand: ['Dancing Script', 'cursive'],
          },
          animation: {
            'slide-up': 'slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
            'float': 'float 6s ease-in-out infinite',
          },
          keyframes: {
            slideUp: {
              'from': { opacity: '0', transform: 'translateY(20px)' },
              'to': { opacity: '1', transform: 'translateY(0)' },
            },
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' },
            }
          }
        }
      }
    }
  </script>

  <!-- React 18 CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Dancing+Script:wght@700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    body {
      background-color: #fdfbf7;
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d9b678' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }
  </style>
</head>
<body class="min-h-screen text-slate-800 overflow-x-hidden">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // ============ CONSTANTS ============
    const REPORT_DATE = "January 17, 2026";
    const SPRINT_NAME = "Sprint 1";

    // 5-TIER SCORING SYSTEM
    const SCORING_TIERS = [
      { max: 25, title: "Happily Ever After", emoji: "‚ú®", theme: "safe" },
      { max: 40, title: "Frog Kisser", emoji: "üê∏", theme: "frog" },
      { max: 60, title: "Glass Slipper Missing", emoji: "üë†", theme: "glass" },
      { max: 80, title: "Distress Signal Lit", emoji: "üÜò", theme: "wobbly" },
      { max: 100, title: "Total Meltdown", emoji: "ü´†", theme: "danger" }
    ];

    // Helper to get tier
    const getTier = (score) => SCORING_TIERS.find(t => score <= t.max) || SCORING_TIERS[SCORING_TIERS.length - 1];

    // LIVE AUDIT DATA (JAN 17)
    const TEAM_DATA = [
      {
        name: "Kriti Nigam",
        score: 30, // Fits 'Frog Kisser' (26-40)
        commentary: "Handling it well, but a few slippery deadlines in the pond.",
        breakdown: {
          sprintVelocity: { score: 20 },
          lawI: { penalty: 10, details: ["EDO-1457: Support escalation matrix (Late)", "EDO-1456: Compile DPC costs (Late)"] },
          lawII: { penalty: 0, details: [] },
          tasks: [
            { key: "EDO-1457", title: "Establish support-to-dev escalation matrix", status: "Done", onTime: false, source: "Sprint" },
            { key: "EDO-1456", title: "Compile Direct Product Costs (DPC)", status: "Done", onTime: false, source: "Sprint" },
            { key: "EDO-1381", title: "Define core metrics for domain dashboard", status: "In Progress", onTime: true, source: "Sprint" },
            { key: "EDO-1378", title: "Research competitor offerings for Domain Privacy", status: "Done", onTime: true, source: "Sprint" },
            { key: "EDO-1377", title: "Research competitor offerings for Domain Expiry", status: "Done", onTime: true, source: "Sprint" }
          ]
        }
      },
      {
        name: "Khushi Parmar",
        score: 67, // Fits 'Distress Signal Lit' (61-80)
        commentary: "The tower beacon is lit. Ops and Sprint work are piling up.",
        breakdown: {
          sprintVelocity: { score: 62 },
          lawI: { penalty: 0, details: ["üåü EDO-1382: Completed 1 day early!", "üåü EDO-1463: Completed 1 day early!", "‚ö†Ô∏è EDO-1383: Currently Overdue", "‚ö†Ô∏è EDO-1465: Currently Overdue"] },
          lawII: { penalty: 5, details: ["EDO-1383: Stale task (5+ days)"] },
          tasks: [
            { key: "EDO-1382", title: "Customer interview guide", status: "Done", onTime: true, source: "Sprint", issues: ["Early!"] },
            { key: "EDO-1463", title: "Registry management tasks", status: "Done", onTime: true, source: "Ops", issues: ["Early!"] },
            { key: "EDO-1453", title: "SEDO premium transfer", status: "Done", onTime: true, source: "Ops" },
            { key: "EDO-1383", title: "Sales coordination process", status: "In Progress", onTime: false, source: "Sprint", issues: ["Stale", "Overdue"] },
            { key: "EDO-1465", title: "Fix .nz domain abuse routing", status: "In Progress", onTime: false, source: "Ops", issues: ["Overdue"] },
            { key: "EDO-1452", title: "Onboard Knock Knock Registry", status: "In Progress", onTime: true, source: "Ops" },
            { key: "EDO-1459", title: "Registry price hike process", status: "In Progress", onTime: true, source: "Ops" },
            { key: "EDO-1469", title: "NUP | Product Bundle", status: "Open", onTime: true, source: "Ops" }
          ]
        }
      },
      {
        name: "Varnika Kairon",
        score: 100, // Fits 'Total Meltdown' (81-100)
        commentary: "Complete meltdown. Zero velocity and missing scrolls.",
        breakdown: {
          sprintVelocity: { score: 100 },
          lawI: { penalty: 0, details: [] },
          lawII: { penalty: 20, details: ["EDO-1397: Missing Description (+5)", "EDO-1397: In Progress w/ 0 comments (+5)", "EDO-1396: In Progress w/ 0 comments (+5)", "EDO-1376: In Progress w/ 0 comments (+5)"] },
          tasks: [
            { key: "EDO-1397", title: "Get SWF/WF data from Analytics", status: "In Progress", onTime: true, source: "Sprint", issues: ["No Desc", "No Comments"] },
            { key: "EDO-1396", title: "New Release Tracker Plan", status: "In Progress", onTime: true, source: "Sprint", issues: ["No Comments"] },
            { key: "EDO-1385", title: "Gather domain forwarding metrics", status: "In Progress", onTime: true, source: "Sprint" },
            { key: "EDO-1376", title: "Competitor offerings for SWF", status: "In Progress", onTime: true, source: "Sprint", issues: ["No Comments"] }
          ]
        }
      }
    ];

    // ============ THEME ENGINE ============
    const getThemeConfig = (themeName) => {
      const themes = {
        safe: { text: 'text-safe-text', bg: 'bg-safe', bgLight: 'bg-safe-light', border: 'border-safe', gradient: 'from-emerald-400 to-green-500' },
        frog: { text: 'text-frog-text', bg: 'bg-frog', bgLight: 'bg-frog-light', border: 'border-frog', gradient: 'from-lime-400 to-green-500' },
        glass: { text: 'text-glass-text', bg: 'bg-glass', bgLight: 'bg-glass-light', border: 'border-glass', gradient: 'from-cyan-300 to-blue-400' },
        wobbly: { text: 'text-wobbly-text', bg: 'bg-wobbly', bgLight: 'bg-wobbly-light', border: 'border-wobbly', gradient: 'from-amber-400 to-orange-500' },
        danger: { text: 'text-danger-text', bg: 'bg-danger', bgLight: 'bg-danger-light', border: 'border-danger', gradient: 'from-rose-400 to-red-600' }
      };
      return themes[themeName] || themes.danger;
    };

    // ============ COMPONENTS ============

    const Header = () => (
      <header className="text-center py-8 animate-slide-up relative">
        <a href="../index.html" className="absolute left-4 top-4 text-parchment-600 hover:text-parchment-800 font-display font-bold text-sm flex items-center gap-2">
          ‚Üê Back to Realm
        </a>
        <h1 className="text-4xl md:text-5xl font-display font-black text-parchment-900 mb-2 leading-tight">
          {SPRINT_NAME} <span className="text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-purple-600">Review</span>
        </h1>
        <p className="text-parchment-500 font-display italic text-sm">{REPORT_DATE}</p>
      </header>
    );

    const ScoreGauge = ({ score, size = "large" }) => {
      const radius = size === "large" ? 60 : 36;
      const stroke = size === "large" ? 10 : 6;
      const normalizedRadius = radius - stroke / 2;
      const circumference = normalizedRadius * 2 * Math.PI;
      const strokeDashoffset = circumference - (Math.min(score, 100) / 100) * circumference;
      const tier = getTier(score);
      const theme = getThemeConfig(tier.theme);

      return (
        <div className="relative flex items-center justify-center">
          <svg height={radius * 2} width={radius * 2} className="transform -rotate-90 relative z-10 drop-shadow-md">
            <circle stroke="currentColor" className="text-parchment-200" strokeWidth={stroke} fill="transparent" r={normalizedRadius} cx={radius} cy={radius} />
            <circle stroke="currentColor" className={`${theme.text} transition-all duration-1000 ease-out`} strokeWidth={stroke} strokeDasharray={circumference + ' ' + circumference} style={{ strokeDashoffset }} strokeLinecap="round" fill="transparent" r={normalizedRadius} cx={radius} cy={radius} />
          </svg>
          <div className="absolute flex flex-col items-center z-20">
            <span className={`font-display font-bold ${size === "large" ? "text-4xl" : "text-xl"} ${theme.text}`}>{score}</span>
          </div>
        </div>
      );
    };

    const Podium = () => {
      const sorted = [...TEAM_DATA].sort((a, b) => a.score - b.score);
      const podiumOrder = [sorted[1], sorted[0], sorted[2]];
      
      return (
        <div className="flex justify-center items-end gap-4 md:gap-8 mb-16 px-4 animate-slide-up" style={{ animationDelay: '0.1s' }}>
          {podiumOrder.map((person, idx) => {
            const rank = person === sorted[0] ? 1 : person === sorted[1] ? 2 : 3;
            const height = rank === 1 ? 'h-64' : rank === 2 ? 'h-48' : 'h-32';
            const tier = getTier(person.score);
            const theme = getThemeConfig(tier.theme);
            const medal = rank === 1 ? 'üëë' : rank === 2 ? 'ü•à' : 'ü•â';
            
            return (
              <div key={person.name} className="flex flex-col items-center w-1/3 md:w-56 group relative">
                <div className="mb-6 text-center transform transition-transform group-hover:-translate-y-2 duration-500">
                  <div className="text-5xl md:text-6xl mb-3 filter drop-shadow-xl animate-float" style={{ animationDelay: `${idx}s` }}>{tier.emoji}</div>
                  <div className="bg-white/80 backdrop-blur-sm px-4 py-1 rounded-full shadow-sm border border-parchment-200 inline-block">
                    <ScoreGauge score={person.score} size="small" />
                  </div>
                </div>
                <div className={`w-full ${height} bg-gradient-to-b from-white to-parchment-100 border-x border-t border-white rounded-t-2xl relative shadow-lg flex flex-col justify-end p-4 text-center overflow-hidden`}>
                  <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 w-10 h-10 flex items-center justify-center bg-white rounded-full shadow-md border-2 border-parchment-100 text-xl z-10">{medal}</div>
                  <div className={`absolute inset-0 bg-gradient-to-t ${theme.gradient} opacity-5`}></div>
                  <h3 className="font-display font-bold text-slate-800 text-sm md:text-base relative z-10 mb-1">{person.name}</h3>
                  <p className={`text-[10px] md:text-xs ${theme.text} font-bold tracking-wide uppercase relative z-10`}>{tier.title}</p>
                </div>
              </div>
            );
          })}
        </div>
      );
    };

    const ScoreCard = ({ person }) => {
      const tier = getTier(person.score);
      const theme = getThemeConfig(tier.theme);
      const [isOpen, setIsOpen] = useState(false);

      return (
        <div className="bg-white rounded-2xl shadow-sm border border-parchment-200 overflow-hidden mb-6 animate-slide-up">
          <div className="p-6 md:p-8 flex flex-col md:flex-row items-center gap-8 relative overflow-hidden">
            <div className={`absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl ${theme.gradient} opacity-5 rounded-bl-full -mr-16 -mt-16 pointer-events-none`}></div>
            <div className="flex-shrink-0 relative z-10"><ScoreGauge score={person.score} /></div>
            <div className="flex-grow text-center md:text-left space-y-2 relative z-10">
              <div className="flex flex-col md:flex-row items-center gap-3">
                <h2 className="text-2xl font-display font-bold text-slate-900">{person.name}</h2>
                <span className={`px-3 py-1 rounded-full text-xs font-bold border ${theme.border} ${theme.text} ${theme.bgLight}`}>{tier.title} {tier.emoji}</span>
              </div>
              <p className="text-slate-500 italic font-serif">"{person.commentary}"</p>
              <div className="grid grid-cols-3 gap-4 mt-4 max-w-md mx-auto md:mx-0">
                <div className="bg-parchment-50 p-2 rounded border border-parchment-100 text-center"><div className="text-[10px] text-slate-400 font-bold">VELOCITY</div><div className="font-bold text-lg">{person.breakdown.sprintVelocity.score}</div></div>
                <div className="bg-parchment-50 p-2 rounded border border-parchment-100 text-center"><div className="text-[10px] text-slate-400 font-bold">LAW I</div><div className={`font-bold text-lg ${person.breakdown.lawI.penalty > 0 ? 'text-red-600' : 'text-green-600'}`}>+{person.breakdown.lawI.penalty}</div></div>
                <div className="bg-parchment-50 p-2 rounded border border-parchment-100 text-center"><div className="text-[10px] text-slate-400 font-bold">LAW II</div><div className={`font-bold text-lg ${person.breakdown.lawII.penalty > 0 ? 'text-red-600' : 'text-green-600'}`}>+{person.breakdown.lawII.penalty}</div></div>
              </div>
            </div>
            <button onClick={() => setIsOpen(!isOpen)} className="px-5 py-2 bg-parchment-100 hover:bg-parchment-200 rounded-full text-xs font-bold text-slate-600 flex items-center gap-2 z-10">{isOpen ? 'Close' : 'Details'} ‚ñº</button>
          </div>
          {isOpen && (
            <div className="border-t border-parchment-200 bg-parchment-50 p-6 space-y-6">
              <div className="grid md:grid-cols-2 gap-6">
                <div>
                  <h3 className="text-xs font-bold text-slate-400 uppercase mb-2">Law I: Deadlines</h3>
                  {person.breakdown.lawI.details.length > 0 ? (
                    <ul className="space-y-1">{person.breakdown.lawI.details.map((d, i) => <li key={i} className="text-sm p-2 bg-white border border-parchment-200 rounded">{d}</li>)}</ul>
                  ) : <div className="text-sm text-green-600 italic">No violations.</div>}
                </div>
                <div>
                  <h3 className="text-xs font-bold text-slate-400 uppercase mb-2">Law II: Documentation</h3>
                  {person.breakdown.lawII.details.length > 0 ? (
                    <ul className="space-y-1">{person.breakdown.lawII.details.map((d, i) => <li key={i} className="text-sm p-2 bg-white border border-parchment-200 rounded">{d}</li>)}</ul>
                  ) : <div className="text-sm text-green-600 italic">No violations.</div>}
                </div>
              </div>
              <div>
                 <h3 className="text-xs font-bold text-slate-400 uppercase mb-2">Active Tasks</h3>
                 <div className="bg-white rounded border border-parchment-200 overflow-hidden">
                   <table className="w-full text-left text-sm">
                     <tbody className="divide-y divide-parchment-100">
                       {person.breakdown.tasks.map(t => (
                         <tr key={t.key}>
                           <td className="p-3 text-xs font-mono text-slate-500">{t.key}</td>
                           <td className="p-3"><div className="font-medium">{t.title}</div></td>
                           <td className="p-3 text-right"><span className={`text-[10px] px-2 py-1 rounded bg-parchment-100`}>{t.status}</span></td>
                         </tr>
                       ))}
                     </tbody>
                   </table>
                 </div>
              </div>
            </div>
          )}
        </div>
      );
    };

    const App = () => (
      <div className="container mx-auto px-4 max-w-4xl py-8">
        <Header />
        <Podium />
        <div className="mb-12">
          {TEAM_DATA.map(p => <ScoreCard key={p.name} person={p} />)}
        </div>
      </div>
    );

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
